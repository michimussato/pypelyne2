<html>
	
<head>
	<title>How to find the problem of a job</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="HelpNDoc Standard Edition 4.2.0.299">
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);
				top.location.href = "index.html?" + sTopicUrl;
			}
			else if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
			{
				top.FrameTOC.SelectTocItem("Howtofindtheproblemofajob");
			}
		});
	</script>
	
	</head>

<body>

<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">How to find the problem of a job</h1>
				
				<div id="topic_breadcrumb">
					<a href="Usage.html">Usage</a> &rsaquo;&rsaquo; <a href="Troubleshooting1.html">Troubleshooting</a> &rsaquo;&rsaquo; </div>
				</div>
			<div id="topic_header_nav">
				<a href="Troubleshooting1.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				<a href="Render.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				<a href="InfosrrTerms.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				</div>
			<div class="clear"></div>
		</div>
	<div id="topic_content">
		
<p></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts15">There are many possible issues if your job does not render or produces wrong outputs.</span></p>
<p class="rvps3"><span class="rvts15">These are some hints where you can look for errors.</span></p>
<p class="rvps3"><span class="rvts15"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<h1 class="rvps6"><span class="rvts0"><span class="rvts14">I) Error List</span></span></h1>
<div class="rvps3"><table width="100%" border="0" cellpadding="3" cellspacing="0" style="border-width: 0px;">
<tr valign="top">
<td style="width: 317px;"><p class="rvps3"><span class="rvts8">1. Open the job log page.</span></p>
<p class="rvps3"><span class="rvts8">You can open it via rrWebsite or rrControl.</span></p>
<p class="rvps3"><span class="rvts8">Select the job and click on the tab "Logs" &nbsp;</span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">2. Click on "Errors" on the left side.</span></p>
<p class="rvps3"><span class="rvts8">This is a list of all errors that happend at the job.</span></p>
</td>
<td style="width: 1224px;"><p class="rvps3"><img alt="" style="padding : 1px;" src="lib/rrcontrol_error.png"/></p>
</td>
</tr>
</table>
</div>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts15">Typical error messages:</span></p>
<div class="rvps3"><table width="100%" border="1" cellpadding="3" cellspacing="0" style="border-color: #000000; border-style: solid;">
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 277px;"><p class="rvps3"><span class="rvts15"><br/></span></p>
<p class="rvps3"><span class="rvts15">Message</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 599px;"><p class="rvps3"><span class="rvts15"><br/></span></p>
<p class="rvps3"><span class="rvts15">Description</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts15"><br/></span></p>
<p class="rvps3"><span class="rvts15">What to do?</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 277px;"><p class="rvps3"><span class="rvts8">Crashed</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 599px;"><p class="rvps3"><span class="rvts8">Reasons for this issue:</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps3"><span class="rvts8">The renderer executable crashed completely</span></li>
<li class="rvps3"><span class="rvts8">The client has found an error message inside the log file which indicated an severe render issue </span></li>
</ul>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">You have to take a look into the render log files to find the origin of the crash.</span></p>
<p class="rvps3"><span class="rvts8">If the renderer executable crashed, then it will be printed in the log file after the main render phase. The information is inside a block of ++++ and starts with "++ Render Executable done ++"</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 277px;"><p class="rvps3"><span class="rvts8">Frozen</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 599px;"><p class="rvps3"><span class="rvts8">Reasons for this issue:</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps3"><span class="rvts8">The render application freezed. It does not continue to render, it does not close, it does not use any CPU. It simply sits there doing nothing</span></li>
<li class="rvps3"><span class="rvts8">The render application opened a dialog box and waits for someone to click a button on the dialog box. (Windows: The client can handle these dialog boxes, but there can be some dialogs the client was not informed about. ) </span></li>
</ul>
<p class="rvps3"><span class="rvts8"><br/></span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Windows: If the renderer opened a dialog box, then it is shown at the end of the render log.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 277px;"><p class="rvps3"><span class="rvts8">Output Directrory not found</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 599px;"><p class="rvps3"><span class="rvts8">Reasons for this issue:</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps3"><span class="rvts8">You are probably using a local harddrive to output your renderings. And this path is not accessible by the client/server.</span></li>
<li class="rvps3"><span class="rvts8">You are using a network path, but the permissions are wrong for that path.</span></li>
<li class="rvps3"><span class="rvts8">Your Fileserver is XP, Vista or Win7. And you are using more than 4 machines connected to the fileserver. See fileservers event log for messages.</span></li>
<li class="rvps3"><span class="rvts8">The rrService user was not added to the list of user at your Fileserver/NAS</span></li>
<li class="rvps3"><span class="rvts8">You are rendering cross-OS and the path is not set in the OS conversion table in rrConfig. </span></li>
</ul>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">To test it, please login at the client (The client with this error). Start rrControl (or rrWebsite). Select the job and open the "Job Info" tab. Click on the output file. It will open the folder where the rendering should be saved into.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts16">Note: </span><span class="rvts8">If you are running the client as service, then it can be that you have to login with the User for rrService. The one you have used in rrWorkstationinstaller to install the service.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">You probably have to change the output path in your scene file to a network path that can be found and accessed by all clients.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts16">rrServer:</span></p>
<p class="rvps3"><span class="rvts8">If the rrServer can not reach the output directory, then the rrServer logs this error for the job. The rrServer checks again in 120 seconds or if a client returns the job (what happens earlier). If this happens 3 times, the job is disabled and will not be send anymore.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 277px; height: 17px;"><p class="rvps3"><span class="rvts8">Job send 3 times more than frames exist</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">No frames found</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 599px; height: 17px;"><p class="rvps3"><span class="rvts8">The server has send the job multiple times to clients.</span></p>
<p class="rvps3"><span class="rvts8">But there is still nothing or not all frames rendered or the server does not find the frames (if there are files rendered).</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">Reasons for this issue:</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps3"><span class="rvts8">The job was send with a wrong output path that does not match the output path in the scene.</span><br/><span class="rvts8">You find new frames, but the server does not find them.</span></li>
<li class="rvps3"><span class="rvts8">There is an issue with the scene/renderer. The renderer is started but does not output any frames. Perhaps there have been some frames rendered, but some simply won't render. </span></li>
</ul>
</td>
<td style="border-color: #000000; border-style: solid; height: 17px;"><ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps3"><span class="rvts8">As you find new frames, but the server does not, you simply have to compare the image path+name+extension of the frames you find and compare it with the output name of the job. Usally jobs are send with the help of Submitter Plugins or Scene Parsers. These should automatically set the output path at the rrSubmitter for you. If you had to manually write the output path, then you need to set it right next time. Or use a Submitter Plugin if available. (check the help section Renderer/YourRenderer)</span></li>
<li class="rvps3"><span class="rvts8">Please check the last render log files of the job.</span><br/><span class="rvts8">Is there any information that the renderer has written a frame?</span><br/><span class="rvts8">Is there any information that the renderer completed its task? </span></li>
<li class="rvps3"><span class="rvts8">If it is not possible to set the right output path, then you can enable "Do not check for frames". (not recommended)</span></li>
</ul>
</td>
</tr>
</table>
</div>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"> </span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<h1 class="rvps6"><span class="rvts0"><span class="rvts14">II) Render Log files</span></span></h1>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li class="rvps3"><span class="rvts8">1. Open the job log page.</span><br/><span class="rvts8">You can open it via rrWebsite or rrControl.</span><br/><span class="rvts8">via rrControl: </span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">Select the job and click on the tab "Logs".</span><br/><span class="rvts8">via rrWebsite: </span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">Open the job page and click on the link "Logs" on the job page</span><br/><span class="rvts8"></span><br/><span class="rvts8"><br/></span></li>
<li class="rvps3"><span class="rvts8">You have a list of all render log files on the left side. They are named with the date it was started and the client name.</span><br/><span class="rvts8">If you click on a render log file, you can see what the render application has returned.</span><br/><span class="rvts8">The logfiles can have colors:</span><br/><span class="rvts8">Black</span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">Nothing special</span><br/><span class="rvts55">Green</span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">The client is still rendering</span><br/><span class="rvts31">Orange</span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">The job was aborted at the client</span><br/><span class="rvts51">Red</span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">The render application crashes, the client found an error message in the log or there was a license problem.</span><br/><span class="rvts56">Violet</span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">The client executed a RR Pre/Post/Done-script</span></li>
</ol>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<div class="rvps3"><table width="100%" border="1" cellpadding="2" cellspacing="0" style="border-color: #000000; border-style: solid;">
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">This part shows some information about</span></p>
<p class="rvps3"><span class="rvts8">the client</span></p>
<p class="rvps3"><span class="rvts8">the render range</span></p>
<p class="rvps3"><span class="rvts8">the executable used to render</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">++++++++++++++++++++++++ Log Start +++++++++++++++</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Some Environment variables with all kind of information about the job</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">++++++++++++ Environment Variables Job: +++++++++++++++++</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">++++++++++++ Environment Variables Client: +++++++++++++++</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">++++++++++++++++++++++++++++++++++++++++++++++</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Executes the setenv file</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">For Example for Softimage:</span></p>
<p class="rvps3"><span class="rvts8">call "\RRender6\render_apps\_setenv\win\Softimage.bat"</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">The output of the actual render application.</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">++++++++++++++++++++++ START +++++++++++++++++++++++</span></p>
<p class="rvps3"><span class="rvts8">C:\Program Files\Autodesk\Softimage\Xsibatch scene start end params...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">If an application crashed or has to halt, then it returns an error code.</span></p>
<p class="rvps3"><span class="rvts8">It is not possible to convert these error codes into error messages.</span></p>
<p class="rvps3"><span class="rvts8">If the application would have been able to handle the error then it would have printed an error message. But it was unable to catch this fatal error and crashed.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">Note: It happens that the application rendered the frames successfully, but crashed afterward. For example while unloading a plugin or releasing memory.</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></p>
<p class="rvps3"><span class="rvts8">++++++++++++++++++++++ Render Executable done ++++++++++++++++</span></p>
<p class="rvps3"><span class="rvts8">++++++++++++++ Royal Render checks the return code of the executable +++++</span></p>
<p class="rvps3"><span class="rvts8">++++++++++++++++++++++ 05.26 14:13.53 +++++++++++++++++++++++</span></p>
<p class="rvps3"><span class="rvts8">++++ Executable returned -1073741819 (0x ffffffffc0000005) as exit code for frame 65.</span></p>
<p class="rvps3"><span class="rvts8">++++ Render crashed</span></p>
<p class="rvps3"><span class="rvts8">+++++++++++++++++++++++++++++++++++++++++++++++++</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">If the client has collected some information during render, then it will append the information at the end of the log file.</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">*********** CLIENT REPORTS DURING THIS RENDER **************</span></p>
</td>
</tr>
</table>
</div>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<h1 class="rvps6"><span class="rvts0"><span class="rvts14">III) Scene Breakdown</span></span></h1>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">This part is a bit more work, but sometimes you have scene that simply do not wont to render. Or you get noise, or ....</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">You can change thousands of settings in a full scene with hundrets of objects, shaders, lights, textures, plugins.</span></p>
<p class="rvps3"><span class="rvts8">I personally see it every time, a lot of artists are trying to find an issue inside a production scene and change this value, rendering, then that, rendering,...</span></p>
<p class="rvps3"><span class="rvts8">But do you have time to change everything? Often the reason can be one single object. So how long until you find this needle in a haystack?</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">So the idea of the scene breakdown is to reduce the possibilites. Exclude possible reasons very fast.</span></p>
<p class="rvps3"><span class="rvts8">The workflow is to change something (save the scene with a meaningful name what you have changed) and submit it to the farm.</span></p>
<p class="rvps3"><span class="rvts8">While the scene is on the farm, you can probably do the next test scene and also submit it.</span></p>
<p class="rvps3"><span class="rvts8">You could end up with 10 scenes at the same time rendering on the farm to see which one works.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">The following list is a collection of steps you can try. Depending on the type of render issue you get.</span></p>
<div class="rvps3"><table width="100%" border="1" cellpadding="3" cellspacing="0" style="border-color: #000000; border-style: solid;">
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Make this test render fast!</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Set the Antialiasing to a low setting (MRay: -2 -2) or reduce the image resolution.</span></p>
<p class="rvps3"><span class="rvts8">Reduce area light samples.</span></p>
<p class="rvps3"><span class="rvts8">Reduce the time range.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Make a small test scene first.</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Try to delete all gemoetry and just place a cube in it. If it renders, you know it is something in the scene.</span></p>
<p class="rvps3"><span class="rvts8">If not, try a brand new scene with a cube only.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Make the test render fast/</span></p>
<p class="rvps3"><span class="rvts8">Is it one of these render features?</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Disable displacement in your render settings.</span></p>
<p class="rvps3"><span class="rvts8">Disable shadows.</span></p>
<p class="rvps3"><span class="rvts8">Disable volume rendering.</span></p>
<p class="rvps3"><span class="rvts8">Remove all textures or replace all texture connections with a single 256x256 pixel image.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Is it a shader?</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Remove all shaders and textures from the scene. Apply a lambert only.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Is it the geometry?</span></p>
<p class="rvps3"><span class="rvts8">Is it a light?</span></p>
<p class="rvps3"><span class="rvts8">Is the scene itself corrupt?/Is it a render setting?</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Remove all Objects and place an animated sphere/cube into the scene.</span></p>
<p class="rvps3"><span class="rvts8">Same for the lights, remove all lights and create one directional light only.</span></p>
<p class="rvps3"><span class="rvts8">With only one light and one object in the scene you have not much left to test. </span></p>
<p class="rvps3"><span class="rvts8">Perhaps the scene is corrupt? Try to create a new scene and merge your old into that one.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Is it one of my objects?</span></p>
<p class="rvps3"><span class="rvts8">Which one?</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Remove half of your objects. Save it as "_halfA". Open the orginal scene, remove the other half and save it as "_halfB".</span></p>
<p class="rvps3"><span class="rvts8">If one of these scenes render, it could be one of the objects left.</span></p>
<p class="rvps3"><span class="rvts8">Repeat the half-splitting ("_halfAA"+"_halfAB", "_halfABA"+"_halfABB"...) until you have the object.</span></p>
<p class="rvps3"><span class="rvts8">Note: it could be the geometry, the shader or a texture applied to this object.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">You know it is one of the shader networks.</span></p>
<p class="rvps3"><span class="rvts8">So test single features of the shading network.</span></p>
</td>
<td style="border-color: #000000; border-style: solid;"><p class="rvps3"><span class="rvts8">Create multiple scenes with only single parts of the shading network. Again, create multiple test scenes you can send to the farm at the same time.</span></p>
<p class="rvps3"><span class="rvts8">You have two ways.</span></p>
<p class="rvps3"><span class="rvts8">Either remove parts of the shading network one by one and send them to render:</span></p>
<p class="rvps3"><span class="rvts8">no displacement</span></p>
<p class="rvps3"><span class="rvts8">+no bump mapping</span></p>
<p class="rvps3"><span class="rvts8">+no reflection</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
<p class="rvps3"><span class="rvts8">OR</span></p>
<p class="rvps3"><span class="rvts8">exclusively test single parts of the shading network:</span></p>
<p class="rvps3"><span class="rvts8">- Main shader only (no textures)</span></p>
<p class="rvps3"><span class="rvts8">- Main shader + Displacement</span></p>
<p class="rvps3"><span class="rvts8">- Main shader + Diffuse texture</span></p>
<p class="rvps3"><span class="rvts8">- Main shader + Reflection</span></p>
<p class="rvps3"><span class="rvts8">- Main shader + Ambient Occlusion</span></p>
<p class="rvps3"><span class="rvts8">- Main shader + Bump mapping</span></p>
<p class="rvps3"><span class="rvts8">...</span></p>
</td>
</tr>
</table>
</div>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<h1 class="rvps6"><span class="rvts0"><span class="rvts14">IV) Time Debugging</span></span></h1>
<p class="rvps3"><span class="rvts8">You have a scene that does render really slow. And you think it should not take that long. (e.g. local render 3min, farm render 20min)</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">These are some known issues and tips for debugging:</span></p>
<div class="rvps3"><table border="1" cellpadding="3" cellspacing="0" style="border-color: #000000; border-style: solid;">
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">External files - network traffic</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">It happens often that your fileserver is able to handle artists working on a scene with many file inputs.</span></p>
<p class="rvps3"><span class="rvts8">But once the scene is send to 10 (30?) clients at a time the network is slowed down.</span></p>
<p class="rvps3"><span class="rvts8">Try to send the scene to 1 client only. Disable (most of) the other clients that they do not get any job.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">Simulation cache files - read only</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">If you use simulations in your scene, please check that the simulation is not re-simulated.</span></p>
<p class="rvps3"><span class="rvts8">Some simulators allow to set an option to read cache files only, no re-simulation.</span></p>
<p class="rvps3"><span class="rvts8">If you are not sure if a setting has this effect, then close the scene, rename the cache files folder and re-open the scene.</span></p>
<p class="rvps3"><span class="rvts8">If the scene does not simulate, you do not see anything of your simulation.</span></p>
<p class="rvps3"><span class="rvts8">If you think that the render time should be about the same for all frames, but according to the logs the total frame time increases the higher the frame number send to a client, then this is an indication that the scene is re-simulated.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">Simulation cache files - relative paths</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">If you use relative paths to your cache files (e.g. inside the Maya project folder), then you have to disable "local scene cache" for the job.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">Reduce/Remove everything that takes render time</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">If you remove everything beside the issue you will reduce the chance that you get a false assumption about the issue.</span></p>
<p class="rvps3"><span class="rvts8">Reduce render resolution and antialiasing.</span></p>
<p class="rvps3"><span class="rvts8">Breakdown/Slim the scene. See "Scene breakdown" how to keep the object responsible for the render time. </span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">Render log time/CPU informations</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">RR and renderer have a few helpful prints in the render log.</span></p>
<p class="rvps3"><span class="rvts8">For example a default RR+ Maya + Vray render:</span></p>
<p class="rvps7"><span class="rvts26">++ Log Start +++</span></p>
<p class="rvps7"><span class="rvts26">10.01 18:15.57</span></p>
<p class="rvps7"><span class="rvts26">[2013/Oct/1|18:16:03] V-Ray: V-Ray core version is 2.00.01</span></p>
<p class="rvps7"><span class="rvts26">File read in 4 seconds.</span></p>
<p class="rvps7"><span class="rvts26">Result: C:/RR_localdata/cachedscenes/0257_0970_lighting_v01_004.mb</span></p>
<p class="rvps7"><span class="rvts26">V-Ray: Starting render</span></p>
<p class="rvps7"><span class="rvts26">[2013/Oct/1|18:16:35]</span></p>
<p class="rvps7"><span class="rvts26">[2013/Oct/1|19:16:54] V-Ray: Rendering.</span></p>
<p class="rvps7"><span class="rvts26">[2013/Oct/1|19:16:54] V-Ray: Pre-render export.</span></p>
<p class="rvps7"><span class="rvts26">[2013/Oct/1|19:16:54] V-Ray: Pre-render export</span></p>
<p class="rvps7"><span class="rvts26">[2013/Oct/1|20:12:35] V-Ray: Pre-render export done.</span></p>
<p class="rvps7"><span class="rvts26">[2013/Oct/1|20:12:35] V-Ray: Rendering frames.</span></p>
<p class="rvps7"><span class="rvts26">+++ Render Executable done ++</span></p>
<p class="rvps7"><span class="rvts26">++ 10.01. 20:14.34 +++</span></p>
<p class="rvps7"><span class="rvts26">Max core usage of job: 24.00cores (of 24 cores)</span></p>
<p class="rvps7"><span class="rvts26">Startup to first frame: 59.28 m.s (render app start + scene load + 1st frame preprocessing)</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">Analysis:</span></p>
<p class="rvps3"><span class="rvts8">Max CPU usage of the job is 24 of 24, so there is no thread limitation.</span></p>
<p class="rvps3"><span class="rvts8">Startup to first frame is 59min. So it took a long time until the frame was started. If I compare it to the VRay pre-render export times, then I can see that there is an hour difference. Which confirms the long pre-processing time.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">Add time prints</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">Add as many time prints as possible.</span></p>
<p class="rvps3"><span class="rvts8">For example as pre/post render scripts.</span></p>
<p class="rvps3"><span class="rvts8">If you use simulations, add a pre and post-frame script to all sim objects.</span></p>
<p class="rvps3"><span class="rvts8">Add objects to your scene with a expression/script driven setting (e.g. position noise script) . Then you know when the scene/frame is being prepared after scene load.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">Increase renderer verbose</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">Increase the renderer verbose output.</span></p>
<p class="rvps3"><span class="rvts8">(Note: If you increase it to much, the log itselfs slows down the rendering. E.g. one log line takes 0.01s. Not much, but if you print 1000 log lines it takes 10s.)</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">Local workstation/artist settings/caches.</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">Sometimes a scene is fast for the artist because of local caches.</span></p>
<p class="rvps3"><span class="rvts8">So it could be different on a different machine or even with a different user.</span></p>
<p class="rvps3"><span class="rvts8">Please login with the same user that you use for rendering (see render log: ++ Log Start +++ Environment user is renderadmin)</span></p>
<p class="rvps3"><span class="rvts8">on a render farm machine.</span></p>
<p class="rvps3"><span class="rvts8">Open the scene and render the first frame. (Should not take long as you have decreased the AA and the resolution).</span></p>
<p class="rvps3"><span class="rvts8">Then render the last frame of the scene.</span></p>
</td>
</tr>
<tr valign="top">
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">How to send debug jobs to the farm</span></p>
</td>
<td style="border-color: #000000; border-style: solid; width: 800px;"><p class="rvps3"><span class="rvts8">According to the "External files - network traffic" you should not send one scene to many clients at the same time.</span></p>
<p class="rvps3"><span class="rvts8">If you get a fast render with a few clients and a slow render with many clients (same frames), then your network reached a limit. (Hint: Read rrInstallation section about Jumbo Frames)</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">You can set sequence divide min/max to:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps3"><span class="rvts8">1/1: You get the full scene load and preprocessing time for every frame.</span></li>
<li class="rvps3"><span class="rvts8">3/3: You get once the scene load, but multiple times the frame proprocessing and render times.</span><br/><span class="rvts8">If you compare it to 1/1 you can calculate the scene load time. </span></li>
</ul>
</td>
</tr>
</table>
</div>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8"> &nbsp; </span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p></p>
</div>
	
	<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright Holger Schoenberger. All Rights Reserved.</div>
		</div>
	</body>
	
</html>

